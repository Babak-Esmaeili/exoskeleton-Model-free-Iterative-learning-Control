function xddot = threeDOF_exoskeleton_dynamics(x,xdot,u,dist)

    x1 = x(1);
    x2 = x(2);
    x3 = x(3);
    
    x1dot = xdot(1);
    x2dot = xdot(2);
    x3dot = xdot(3);
        
    F11 = ((11763715046721856000*cos(x1 + x2 + x3) + 106226655360929292800*sin(x1 + x2) + (9007199254740992000*abs(x1dot)^2*((45664619*x1dot*cos(x2 + x3))/800000000 + (45664619*x2dot*cos(x2 + x3))/1600000000 + (45664619*x3dot*cos(x2 + x3))/1600000000 + (5534504347741717*x1dot*sin(x2))/10737418240000000 + (5534504347741717*x2dot*sin(x2))/21474836480000000))/x1dot - (1001*abs(x3dot)^2*(6420303481281708032*x1dot*cos(x2 + x3) + 29874065178208763904*x1dot*cos(x3) + 29874065178208763904*x2dot*cos(x3) + 14937032589104381952*x3dot*cos(x3)))/(25000*x3dot) - (7*x1dot*abs(x2dot)^2*(7344827182586273988608*cos(x2 + x3) + 66323982067858489212928*sin(x2)))/(200000*x2dot))*(2056551611124156928*sin(x2 + x3) - 512359998580948488342354366673453056*cos(x2) + 5040923979754750976*sin(x3) + 183141495249342363433016097918418944*sin(x3)^2 + 157437425740662740273673935893037056*sin(x2 + x3)*sin(x3) - 471817132194990779153919150236106752))/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528) - ((94109720373774848000*cos(x1 + x2 + x3) + (72057594037927936000*abs(x2dot)^2*((53120067*x1dot*cos(x3))/800000000 - (45664619*x1dot*cos(x2 + x3))/1600000000 + (53120067*x2dot*cos(x3))/800000000 + (53120067*x3dot*cos(x3))/1600000000))/x2dot - (1001*abs(x3dot)^2*(6420303481281708032*x1dot*cos(x2 + x3) + 7468516294552189952*x1dot*cos(x3) + 7468516294552189952*x2dot*cos(x3)))/(3125*x3dot) + (131157628260469178368*abs(x1dot)^2*(98*x1dot*cos(x2 + x3) + 49*x2dot*cos(x2 + x3) + 49*x3dot*cos(x2 + x3) + 114*x1dot*cos(x3) + 114*x2dot*cos(x3) + 57*x3dot*cos(x3)))/(3125*x1dot))*(177708010380250790534060830814633984*cos(x2)*sin(x3) - 64044999822618561042794295834181632*cos(x2) - 7496023691629522944*sin(x3) - 140678173064908362136097227785895936*sin(x2 + x3) + 1837298027113695744*sin(x3)^2 + 19679678217582844840052251200323584*sin(x2 + x3)*sin(x3) + 2245424774336517888))/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528) - ((90809213427305970230350942142977802240*sin(x3) + 1649591939522027268684972788108014085729202065222139904*sin(x3)^2 - 4249750921480753102120609760006430435602798633591767040)*((183808047605029*cos(x1 + x2 + x3))/140737488355328 + (8298957450072601*sin(x1 + x2))/703687441776640 + (168496832377107*sin(x1))/5497558138880 - (abs(x2dot)^2*((45664619*x1dot*cos(x2 + x3))/400000000 + (45664619*x2dot*cos(x2 + x3))/800000000 + (45664619*x3dot*cos(x2 + x3))/800000000 + (5534504347741717*x1dot*sin(x2))/5368709120000000 + (5534504347741717*x2dot*sin(x2))/10737418240000000))/x2dot - (3003*abs(x3dot)^2*(2739329485346862*x1dot*cos(x2 + x3) + 1369664742673431*x2dot*cos(x2 + x3) + 1369664742673431*x3dot*cos(x2 + x3) + 3186566952342268*x1dot*cos(x3) + 3186566952342268*x2dot*cos(x3) + 1593283476171134*x3dot*cos(x3)))/(72057594037927936000*x3dot)))/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528);
    F21 = ((11763715046721856000*cos(x1 + x2 + x3) + 106226655360929292800*sin(x1 + x2) + 276065210166652108800*sin(x1) - (9007199254740992000*abs(x2dot)^2*((45664619*x1dot*cos(x2 + x3))/400000000 + (45664619*x2dot*cos(x2 + x3))/800000000 + (45664619*x3dot*cos(x2 + x3))/800000000 + (5534504347741717*x1dot*sin(x2))/5368709120000000 + (5534504347741717*x2dot*sin(x2))/10737418240000000))/x2dot - (3003*abs(x3dot)^2*(2739329485346862*x1dot*cos(x2 + x3) + 1369664742673431*x2dot*cos(x2 + x3) + 1369664742673431*x3dot*cos(x2 + x3) + 3186566952342268*x1dot*cos(x3) + 3186566952342268*x2dot*cos(x3) + 1593283476171134*x3dot*cos(x3)))/(8*x3dot))*(2056551611124156928*sin(x2 + x3) - 512359998580948488342354366673453056*cos(x2) + 5040923979754750976*sin(x3) + 183141495249342363433016097918418944*sin(x3)^2 + 157437425740662740273673935893037056*sin(x2 + x3)*sin(x3) - 471817132194990779153919150236106752))/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528) - (((183808047605029*cos(x1 + x2 + x3))/140737488355328 + (8298957450072601*sin(x1 + x2))/703687441776640 + (abs(x1dot)^2*((45664619*x1dot*cos(x2 + x3))/800000000 + (45664619*x2dot*cos(x2 + x3))/1600000000 + (45664619*x3dot*cos(x2 + x3))/1600000000 + (5534504347741717*x1dot*sin(x2))/10737418240000000 + (5534504347741717*x2dot*sin(x2))/21474836480000000))/x1dot - (1001*abs(x3dot)^2*(6420303481281708032*x1dot*cos(x2 + x3) + 29874065178208763904*x1dot*cos(x3) + 29874065178208763904*x2dot*cos(x3) + 14937032589104381952*x3dot*cos(x3)))/(225179981368524800000000*x3dot) - (7*x1dot*abs(x2dot)^2*(7344827182586273988608*cos(x2 + x3) + 66323982067858489212928*sin(x2)))/(1801439850948198400000000*x2dot))*(1219042858354074637531811603930383172376295636992000000*sin(x2 + x3)^2 - 9229857194754829501526384729179848837697902739456000000*cos(x2) + 1649591939522027654867243938494353785313397047296000000*sin(x3)^2 + 2836140527599275674073253378187963838460931866624000000*sin(x2 + x3)*sin(x3) - 14616607866059363987022460876144521039456661143552000000))/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528) + ((188219440747549696000*cos(x1 + x2 + x3) + (144115188075855872000*abs(x2dot)^2*((53120067*x1dot*cos(x3))/800000000 - (45664619*x1dot*cos(x2 + x3))/1600000000 + (53120067*x2dot*cos(x3))/800000000 + (53120067*x3dot*cos(x3))/1600000000))/x2dot - (2002*abs(x3dot)^2*(6420303481281708032*x1dot*cos(x2 + x3) + 7468516294552189952*x1dot*cos(x3) + 7468516294552189952*x2dot*cos(x3)))/(3125*x3dot) + (262315256520938356736*abs(x1dot)^2*(98*x1dot*cos(x2 + x3) + 49*x2dot*cos(x2 + x3) + 49*x3dot*cos(x2 + x3) + 114*x1dot*cos(x3) + 114*x2dot*cos(x3) + 57*x3dot*cos(x3)))/(3125*x1dot))*(199599352692551209206348071150026752*sin(x3) - 32022499911309275909711129489702912*cos(x2) - 70339086532454181068048613892947968*sin(x2 + x3) + 8458809058434731392244002062336000*sin(x2 + x3)^2 + 88854005190125395267030415407316992*cos(x2)*sin(x3) + 918649013556847872*sin(x3)^2 - 76383267619581484187171776777682944*sin(x2 + x3)*cos(x2) + 9839839108791422420026125600161792*sin(x2 + x3)*sin(x3) - 71934520455414833240802883666968576))/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528); 
    F31 = ((188219440747549696000*cos(x1 + x2 + x3) + 1699626485774868684800*sin(x1 + x2) + (144115188075855872000*abs(x1dot)^2*((45664619*x1dot*cos(x2 + x3))/800000000 + (45664619*x2dot*cos(x2 + x3))/1600000000 + (45664619*x3dot*cos(x2 + x3))/1600000000 + (5534504347741717*x1dot*sin(x2))/10737418240000000 + (5534504347741717*x2dot*sin(x2))/21474836480000000))/x1dot - (2002*abs(x3dot)^2*(6420303481281708032*x1dot*cos(x2 + x3) + 29874065178208763904*x1dot*cos(x3) + 29874065178208763904*x2dot*cos(x3) + 14937032589104381952*x3dot*cos(x3)))/(3125*x3dot) - (7*x1dot*abs(x2dot)^2*(7344827182586273988608*cos(x2 + x3) + 66323982067858489212928*sin(x2)))/(12500*x2dot))*(199599352692551209206348071150026752*sin(x3) - 32022499911309275909711129489702912*cos(x2) - 70339086532454181068048613892947968*sin(x2 + x3) + 8458809058434731392244002062336000*sin(x2 + x3)^2 + 88854005190125395267030415407316992*cos(x2)*sin(x3) + 918649013556847872*sin(x3)^2 - 76383267619581484187171776777682944*sin(x2 + x3)*cos(x2) + 9839839108791422420026125600161792*sin(x2 + x3)*sin(x3) - 71934520455414833240802883666968576))/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528) - ((376438881495099392000000*cos(x1 + x2 + x3) + (288230376151711744000000*abs(x2dot)^2*((53120067*x1dot*cos(x3))/800000000 - (45664619*x1dot*cos(x2 + x3))/1600000000 + (53120067*x2dot*cos(x3))/800000000 + (53120067*x3dot*cos(x3))/1600000000))/x2dot - (32032*abs(x3dot)^2*(6420303481281708032*x1dot*cos(x2 + x3) + 7468516294552189952*x1dot*cos(x3) + 7468516294552189952*x2dot*cos(x3)))/(25*x3dot) + (4197044104335013707776*abs(x1dot)^2*(98*x1dot*cos(x2 + x3) + 49*x2dot*cos(x2 + x3) + 49*x3dot*cos(x2 + x3) + 114*x1dot*cos(x3) + 114*x2dot*cos(x3) + 57*x3dot*cos(x3)))/(25*x1dot))*(199599352692551221312023869521920*sin(x3) + 4229404529217365696122001031168*sin(x2 + x3)^2 + 344871454831268995919165085712384*cos(x2)^2 - 76383267619581487501821102522368*sin(x2 + x3)*cos(x2) - 749375070337095579408868107616256))/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528) - ((94109720373774848000*cos(x1 + x2 + x3) + 849813242887434342400*sin(x1 + x2) + 2208521681333216870400*sin(x1) - (72057594037927936000*abs(x2dot)^2*((45664619*x1dot*cos(x2 + x3))/400000000 + (45664619*x2dot*cos(x2 + x3))/800000000 + (45664619*x3dot*cos(x2 + x3))/800000000 + (5534504347741717*x1dot*sin(x2))/5368709120000000 + (5534504347741717*x2dot*sin(x2))/10737418240000000))/x2dot - (3003*abs(x3dot)^2*(2739329485346862*x1dot*cos(x2 + x3) + 1369664742673431*x2dot*cos(x2 + x3) + 1369664742673431*x3dot*cos(x2 + x3) + 3186566952342268*x1dot*cos(x3) + 3186566952342268*x2dot*cos(x3) + 1593283476171134*x3dot*cos(x3)))/x3dot)*(177708010380250790534060830814633984*cos(x2)*sin(x3) - 64044999822618561042794295834181632*cos(x2) - 7496023691629522944*sin(x3) - 140678173064908362136097227785895936*sin(x2 + x3) + 1837298027113695744*sin(x3)^2 + 19679678217582844840052251200323584*sin(x2 + x3)*sin(x3) + 2245424774336517888))/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528); 

    B11 = (90809213427305970230350942142977802240*sin(x3) + 1649591939522027268684972788108014085729202065222139904*sin(x3)^2 - 4249750921480753102120609760006430435602798633591767040)/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528);
    B12 = (709035131899818852316528398227938695851404769099776000*cos(x2 + 2*x3) + 824795969761013731376130086352865764842516433076224000*cos(2*x3) - 18523770139053892674690643002392576000*sin(x2 + x3) + 3905893465477596007484897995593365922137969514250240000*cos(x2) - 45404606713652988435589404339208192000*sin(x3) + 3424954951719739483728859315371413867583882324344832000)/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528);
    B13 = -(709035131899818935393278134785180752339346036621312000*cos(x2 + 2*x3) + 6402605834633997563435943082734424944459380804288512000*sin(x2 - x3) + 66195637682222300872987226450952192000*cos(2*x3) + 3734324850074538251788689799007838735223016099151872000*sin(x2 + x3) + 3905893465477596007484897995593365922137969514250240000*cos(x2) + 540145432070130069543045017930563584000*sin(x3) - 227995544514069053354078591369871360000)/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528);
    B21 = (709035131899818852316528398227938695851404769099776000*cos(x2 + 2*x3) + 824795969761013731376130086352865764842516433076224000*cos(2*x3) - 18523770139053892674690643002392576000*sin(x2 + x3) + 3905893465477596007484897995593365922137969514250240000*cos(x2) - 45404606713652988435589404339208192000*sin(x3) + 3424954951719739483728859315371413867583882324344832000)/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528);
    B22 = -(1418070263799637837036626689093981919230465933312000000*cos(x2 + 2*x3) + 824795969761013827433621969247176892656698523648000000*cos(2*x3) + 609521429177037318765905801965191586188147818496000000*cos(2*x2 + 2*x3) + 7811786930955192638045419015366047267935498534912000000*cos(x2) + 13182290467121313165341486763358879343767835377664000000)/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528); 
    B23 = (709035131899818935393278134785180752339346036621312000*cos(x2 + 2*x3) + 6402605834633997563435943082734424944459380804288512000*sin(x2 - x3) + 5503994489422208723223002778340969010106980928323584000*sin(2*x2 + x3) + 66195637682222300872987226450952192000*cos(2*x3) + 609521429177037318765905801965191586188147818496000000*cos(2*x2 + 2*x3) + 3734324850074538251788689799007838735223016099151872000*sin(x2 + x3) + 3905893465477595342870900103135429470234439374077952000*cos(x2) - 23261303763683898604920198060342409883909247308136448000*sin(x3) + 9757335515401572767768380345857802854816599110582272000)/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528);
    B31 = -(709035131899818935393278134785180752339346036621312000*cos(x2 + 2*x3) + 6402605834633997563435943082734424944459380804288512000*sin(x2 - x3) + 66195637682222300872987226450952192000*cos(2*x3) + 3734324850074538251788689799007838735223016099151872000*sin(x2 + x3) + 3905893465477596007484897995593365922137969514250240000*cos(x2) + 540145432070130069543045017930563584000*sin(x3) - 227995544514069053354078591369871360000)/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528);
    B32 = (709035131899818935393278134785180752339346036621312000*cos(x2 + 2*x3) + 6402605834633997563435943082734424944459380804288512000*sin(x2 - x3) + 5503994489422208723223002778340969010106980928323584000*sin(2*x2 + x3) + 66195637682222300872987226450952192000*cos(2*x3) + 609521429177037318765905801965191586188147818496000000*cos(2*x2 + 2*x3) + 3734324850074538251788689799007838735223016099151872000*sin(x2 + x3) + 3905893465477595342870900103135429470234439374077952000*cos(x2) - 23261303763683898604920198060342409883909247308136448000*sin(x3) + 9757335515401572767768380345857802854816599110582272000)/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528);
    B33 = -(11007988978844417924137316541886079845019624144896000000*sin(2*x2 + x3) - 49701214575002364559596231682489043176859629518848000000*cos(2*x2) + 609521429177037318765905801965191586188147818496000000*cos(2*x2 + 2*x3) - 46522607527367801488293007553382785676947469893632000000*sin(x3) + 165681922397797092168963496085342308440657444732928000000)/(17059968996504075891269839758204862464*cos(x2 - 2*x3) - 11180220120557258834093271241778528256*cos(x2 + 2*x3) - 21514141505820484359867503957302575104*sin(x2 - x3) - 11171999791667153019146744770846523392*sin(2*x2 + x3) + 1889249108887953104645016115231064064*sin(x2 + 3*x3) + 823895742478805979025803673636634698225834421055913984*cos(2*x2) - 589543411492813995511068673554029454952450571469062144*cos(2*x3) + 88190305301457403904*sin(3*x3) + 76153771590532872349748306835289841558655228033630208*cos(2*x2 + 2*x3) + 1624091339219468427310848395968512000*sin(2*x2 + 3*x3) + 2040120763818985010532898462228283392*sin(x2 + x3) - 13885373853774135093820403129664929792*cos(x2) + 92349458752009783778325507207816282112*sin(x3) - 2852455708190053405293869288127316643145127488837910528);
 
    M11 = (9285357489500189*cos(x2))/9007199254740992 - (2056551611124157*sin(x2 + x3))/18014398509481984 - (1196157569735479*sin(x3))/9007199254740992 + 7460021855406361/4503599627370496;
    M12 = (9285357489500189*cos(x2))/18014398509481984 - (2056551611124157*sin(x2 + x3))/36028797018963968 - (1196157569735479*sin(x3))/9007199254740992 + 1122712387168259/2251799813685248;
    M13 = 6897418854905711/288230376151711744 - (1196157569735479*sin(x3))/18014398509481984 - (2056551611124157*sin(x2 + x3))/36028797018963968;
    M21 = (9285357489500189*cos(x2))/18014398509481984 - (2056551611124157*sin(x2 + x3))/36028797018963968 - (1196157569735479*sin(x3))/9007199254740992 + 1122712387168259/2251799813685248;
    M22 = 1122712387168259/2251799813685248 - (1196157569735479*sin(x3))/9007199254740992;
    M23 = 27589675419622843/1152921504606846976 - (149519696216934869*sin(x3))/2251799813685248000;
    M31 = 6897418854905711/288230376151711744 - (1196157569735479*sin(x3))/18014398509481984 - (2056551611124157*sin(x2 + x3))/36028797018963968;
    M32 = 27589675419622843/1152921504606846976 - (149519696216934869*sin(x3))/2251799813685248000;
    M33 = 0.0239;

    F = [F11 F21 F31]';
    
    B = [B11 B12 B13
         B21 B22 B23
         B31 B32 B33];
    
    M = [M11 M12 M13
         M21 M22 M23
         M31 M32 M33];  %#ok
               
    %% Dynamics  
    xddot = F + B*u + B*dist;

end
